<!DOCTYPE html>
<html lang="en-us">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="robots" content="noodp" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge, chrome=1">
        <title>How to deal with Null Reference Exception - ANF Blogs</title><meta name="Description" content="Here&#39;s a small article on how to fix null reference exception in Unity."><meta property="og:title" content="How to deal with Null Reference Exception" />
<meta property="og:description" content="Here&#39;s a small article on how to fix null reference exception in Unity." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://anf.myst.rs/blog/nullref/" />
<meta property="article:published_time" content="2021-02-03T09:32:38-05:00" />
<meta property="article:modified_time" content="2021-02-03T09:32:38-05:00" />
<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="How to deal with Null Reference Exception"/>
<meta name="twitter:description" content="Here&#39;s a small article on how to fix null reference exception in Unity."/>
<meta name="application-name" content="ANF Blogs">
<meta name="apple-mobile-web-app-title" content="ANF Blogs"><link rel="icon" href="/logo.png"><link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png"><link rel="manifest" href="/site.webmanifest"><link rel="canonical" href="https://anf.myst.rs/blog/nullref/" /><link rel="next" href="https://anf.myst.rs/blog/setup-codecov/" /><link rel="stylesheet" href="/lib/normalize/normalize.min.css"><link rel="stylesheet" href="/css/style.min.css"><link rel="stylesheet" href="/lib/fontawesome-free/all.min.css"><link rel="stylesheet" href="/lib/animate/animate.min.css"><script type="application/ld+json">
    {
        "@context": "http://schema.org",
        "@type": "BlogPosting",
        "headline": "How to deal with Null Reference Exception",
        "inLanguage": "en-us",
        "mainEntityOfPage": {
            "@type": "WebPage",
            "@id": "https:\/\/anf.myst.rs\/blog\/nullref\/"
        },"image": ["https:\/\/anf.myst.rs\/logo.png"],"genre": "blog","wordcount":  1066 ,
        "url": "https:\/\/anf.myst.rs\/blog\/nullref\/","datePublished": "2021-02-03T09:32:38-05:00","dateModified": "2021-02-03T09:32:38-05:00","publisher": {
            "@type": "Organization",
            "name": "ANF-Studios"},"author": {
                "@type": "Person",
                "name": "ANF-Studios"
            },"description": "Here's a small article on how to fix null reference exception in Unity."
    }
    </script></head>
    <body header-desktop="" header-mobile=""><script type="text/javascript">(window.localStorage && localStorage.getItem('theme') ? localStorage.getItem('theme') === 'dark' : ('dark' === 'auto' ? window.matchMedia('(prefers-color-scheme: dark)').matches : 'dark' === 'dark')) && document.body.setAttribute('theme', 'dark');</script>

        <div id="mask"></div><div class="wrapper"><header class="desktop" id="header-desktop">
    <div class="header-wrapper">
        <div class="header-title">
            <a href="/" title="ANF Blogs"><span id="id-1" class="typeit"></span></a>
        </div>
        <div class="menu">
            <div class="menu-inner"><a class="menu-item" href="/" title="Home"> Home </a><a class="menu-item" href="/blog/" title="Blog"> Blog </a><a class="menu-item" href="/projects/" title="Projects"> Projects </a><span class="menu-item delimiter"></span><a href="javascript:void(0);" class="menu-item theme-switch" title="Switch Theme">
                    <i class="fas fa-adjust fa-fw"></i>
                </a>
            </div>
        </div>
    </div>
</header><header class="mobile" id="header-mobile">
    <div class="header-container">
        <div class="header-wrapper">
            <div class="header-title">
                <a href="/" title="ANF Blogs"><span id="id-2" class="typeit"></span></a>
            </div>
            <div class="menu-toggle" id="menu-toggle-mobile">
                <span></span><span></span><span></span>
            </div>
        </div>
        <div class="menu" id="menu-mobile"><a class="menu-item" href="/" title="Home">Home</a><a class="menu-item" href="/blog/" title="Blog">Blog</a><a class="menu-item" href="/projects/" title="Projects">Projects</a><a href="javascript:void(0);" class="menu-item theme-switch" title="Switch Theme">
                <i class="fas fa-adjust fa-fw"></i>
            </a></div>
    </div>
</header>
<div class="search-dropdown desktop">
    <div id="search-dropdown-desktop"></div>
</div>
<div class="search-dropdown mobile">
    <div id="search-dropdown-mobile"></div>
</div>
<main class="main">
                <div class="container"><div class="toc" id="toc-auto">
            <h2 class="toc-title">Contents</h2>
            <div class="toc-content always-active" id="toc-content-auto"></div>
        </div><article class="page single"><h1 class="single-title animated flipInX">How to deal with Null Reference Exception</h1><div class="post-meta">
            <div class="post-meta-line"><span class="post-author"><a href="https://github.com/ANF" title="Author" target="_blank" rel="noopener noreffer author" class="author"><i class="fas fa-user-circle fa-fw"></i>ANF-Studios</a></span>&nbsp;<span class="post-category">included in <a href="/blog/other/"><i class="far fa-folder fa-fw"></i>Other</a></span></div>
            <div class="post-meta-line"><i class="far fa-calendar-alt fa-fw"></i>&nbsp;<time datetime="03.02.2021">03.02.2021</time>&nbsp;<i class="fas fa-pencil-alt fa-fw"></i>&nbsp;1066 words&nbsp;
                <i class="far fa-clock fa-fw"></i>&nbsp;6 minutes&nbsp;</div>
        </div><div class="details toc" id="toc-static"  kept="">
                <div class="details-summary toc-title">
                    <span>Contents</span>
                    <span><i class="details-icon fas fa-angle-right"></i></span>
                </div>
                <div class="details-content toc-content" id="toc-content-static"><nav id="TableOfContents">
  <ul>
    <li><a href="#understanding-null-ref">Understanding null ref</a></li>
    <li><a href="#debugging-101">Debugging 101</a></li>
    <li><a href="#fixing-it">Fixing it</a></li>
    <li><a href="#conclusion">Conclusion</a></li>
  </ul>
</nav></div>
            </div><div class="content" id="content"><div class="details admonition info open">
        <div class="details-summary admonition-title">
            <i class="icon fas fa-info-circle fa-fw"></i>Meant for Unity<i class="details-icon fas fa-angle-right fa-fw"></i>
        </div>
        <div class="details-content">
            <div class="admonition-content">This blog is specifically meant for Unity Engine. However, this will also apply to other frameworks that encounter Null Reference Exception in C#. This is because, at the end of the day, it is C# and this is a C# thing, not a Unity thing.</div>
        </div>
    </div>
<p>As a beginner, at some point or another, you must have encountered null reference exception while developing your application and, for some people, it&rsquo;s really hard to understand how to fix it (mainly because, in my opinion, some game devs do not have prior knowledge of C#). So today, you&rsquo;ll be learning how to fix it, I&rsquo;ll try to simplify it as much as possible. So first of all, I want to start off with null reference exceptions because well, it&rsquo;s a really common programming mistake and commonly repeated especially by beginners, so I am going to guide you through what this &ldquo;Null Reference Exception&rdquo; is and how to fix it.</p>
<h2 id="understanding-null-ref">Understanding null ref</h2>
<p>So, why does null ref (short for null reference exception) even happen?
Well, the simplest answer for this could be that C# throws this exception when one of your variables is <a href="https://docs.microsoft.com/en-us/dotnet/csharp/language-reference/keywords/null" target="_blank" rel="noopener noreffer">null</a> which basically means</p>
<blockquote>
<p>a literal that represents a null reference, one that does not refer to any object. null is the default value of reference-type variables.</p>
</blockquote>
<p>Is it an assigned value or not? Well, yes but actually no.</p>
<p>Let me break this down for you, your variable is allocated in memory i.e, it is stored somewhere in your RAM. And, when you want to access it using some Unity function like <a href="https://docs.unity3d.com/ScriptReference/GameObject.SetActive.html" target="_blank" rel="noopener noreffer">SetActive</a> which sets a game object in your scene active or inactive (inactive means that it won&rsquo;t function but it still exists):</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span><span class="lnt">9
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-cs" data-lang="cs"><span class="k">using</span> <span class="nn">UnityEngine</span><span class="p">;</span>

<span class="k">public</span> <span class="k">class</span> <span class="nc">MyScript</span> <span class="p">:</span> <span class="n">MonoBehaviour</span>
<span class="p">{</span>
    <span class="k">private</span> <span class="n">GameObject</span> <span class="n">myCube</span><span class="p">;</span>
    
    <span class="k">void</span> <span class="n">Start</span><span class="p">()</span>
        <span class="p">=&gt;</span> <span class="n">myCube</span><span class="p">.</span><span class="n">SetActive</span><span class="p">(</span><span class="k">false</span><span class="p">);</span> <span class="c1">// You shall see a null reference exception here.
</span><span class="c1"></span><span class="p">}</span>
</code></pre></td></tr></table>
</div>
</div><p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="exception.png"
        data-srcset="/blog/nullref/exception.png, exception.png 1.5x, /blog/nullref/exception.png 2x"
        data-sizes="auto"
        alt="/blog/nullref/exception.png"
        title="Null Reference Exception" /></p>
<h2 id="debugging-101">Debugging 101</h2>
<p>This is the output, nothing is really changed and our code does not work. Passionate beginners (perhaps ones like you, that could be one of the reasons you&rsquo;re here because you&rsquo;re stuck and some senior developer directed you here) often make this mistake without realizing, though this is nothing to be worried about.</p>
<p>Well, how do I know that my variable is null? As a programmer, you should debug your code, debugging. In software development, debugging is the process of finding and resolving bugs within computer programs, software, or systems.</p>
<p>The first thing that might come into your head is probably going to be <code>Debug.Log();</code>. It&rsquo;s really powerful (though there are several other ways to do this like the <code>print();</code> function or <code>Console.Write();</code>/<code>Console.WriteLine();</code>) and always helps you out.</p>
<p>So how do we tell this &ldquo;logger&rdquo; to tell us if our variable is null? Well, we&rsquo;re going to call our logger and say; hey logger, tell me if this variable of mine is null or not. To do so, we&rsquo;ll be using <code>Debug.Log();</code>, like so:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-cs" data-lang="cs"><span class="n">Debug</span><span class="p">.</span><span class="n">Log</span><span class="p">(</span><span class="n">myCube</span> <span class="p">==</span> <span class="k">null</span><span class="p">);</span>
</code></pre></td></tr></table>
</div>
</div><p>This would print <code>true</code> if the <strong>variable is null</strong> else it would print <code>false</code>.</p>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="null_variable_1.png"
        data-srcset="/blog/nullref/null_variable_1.png, null_variable_1.png 1.5x, /blog/nullref/null_variable_1.png 2x"
        data-sizes="auto"
        alt="/blog/nullref/null_variable_1.png"
        title="Is it null?" /></p>
<p>Granted that this works perfectly fine and there&rsquo;s nothing really wrong with it, but personally, I like to prefer readability, so a good way of doing this would be to use the <a href="https://docs.microsoft.com/en-us/dotnet/csharp/language-reference/operators/conditional-operator" target="_blank" rel="noopener noreffer"><code>?:</code></a> operator.</p>
<p>It should look something like this:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-cs" data-lang="cs"><span class="n">Debug</span><span class="p">.</span><span class="n">Log</span><span class="p">(</span><span class="n">myCube</span> <span class="p">==</span> <span class="k">null</span> <span class="p">?</span> <span class="s">&#34;Game object myCube is null&#34;</span> <span class="p">:</span> <span class="s">&#34;Game object myCube is not null&#34;</span><span class="p">);</span>
</code></pre></td></tr></table>
</div>
</div><p>What this will do is print the first statement if <code>myCube == null</code> i.e, the variable is null, and print the next one (instead of the first one) if it is not null. It&rsquo;s simple and makes it really readable:</p>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="null_variable_2.png"
        data-srcset="/blog/nullref/null_variable_2.png, null_variable_2.png 1.5x, /blog/nullref/null_variable_2.png 2x"
        data-sizes="auto"
        alt="/blog/nullref/null_variable_2.png"
        title="Is it null?" /></p>
<h2 id="fixing-it">Fixing it</h2>
<p>Well, that&rsquo;s cool and all, but like.. I came here to know how to fix this, right? Tell me how to fix it. Gotcha, now that we&rsquo;ve actually covered all the basic debugging ways, let&rsquo;s get to know how to fix that.</p>
<p>So, what do we first thing when we hear null ref? Keeping in view the definition of null; a variable not assigned, right? So we need to somehow assign it a value. In this case, it&rsquo;s a game object, a unity game object - so we will assign it our object to fix that error. I&rsquo;ll create a private Serialized object:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-cs" data-lang="cs"><span class="na">[SerializeField]</span> <span class="k">private</span> <span class="n">GameObject</span> <span class="n">myCube</span><span class="p">;</span>
</code></pre></td></tr></table>
</div>
</div><p>Unity serializes only public objects, so if you really need this <code>myCube</code> variable to be private but still be serialized, you can use this SerializeField property. I&rsquo;ll save more of this for another blog, but for now, I recommend reading <a href="https://docs.unity3d.com/ScriptReference/SerializeField.html" target="_blank" rel="noopener noreffer">UnityDocs/SerializeField</a>.</p>
<p>Anyhow, now you&rsquo;ll notice this in your inspector when you look at it:
<img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="inspector_script_field.png"
        data-srcset="/blog/nullref/inspector_script_field.png, inspector_script_field.png 1.5x, /blog/nullref/inspector_script_field.png 2x"
        data-sizes="auto"
        alt="/blog/nullref/inspector_script_field.png"
        title="inspector" /></p>
<p>Now just drag and drop the cube object in there (or just click on the plus button to assign it) like so:
<img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="assign.gif"
        data-srcset="/blog/nullref/assign.gif, assign.gif 1.5x, /blog/nullref/assign.gif 2x"
        data-sizes="auto"
        alt="/blog/nullref/assign.gif"
        title="Assign myCube" /></p>
<p>What we&rsquo;ve done here is that we&rsquo;ve &ldquo;cached&rdquo; our object - this is really great for runtime performance. And now, when we run our code, we should see that the null reference exception is now gone:
<img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="exception_fixed.png"
        data-srcset="/blog/nullref/exception_fixed.png, exception_fixed.png 1.5x, /blog/nullref/exception_fixed.png 2x"
        data-sizes="auto"
        alt="/blog/nullref/exception_fixed.png"
        title="Fixed results" /></p>
<div class="details admonition tip">
        <div class="details-summary admonition-title">
            <i class="icon fas fa-lightbulb fa-fw"></i>You can also create a game object instance<i class="details-icon fas fa-angle-right fa-fw"></i>
        </div>
        <div class="details-content">
            <div class="admonition-content">You can also create a new object instance, that&rsquo;ll also work out fine, it just at its core depends on what you really want to do.</div>
        </div>
    </div>
<p>Now if we want to access the SetActive property, we&rsquo;re going to need to access it. Which we can now do because we have the game object. Now, when we&rsquo;ll run this code, we won&rsquo;t see any errors - so far, you&rsquo;re code should look like this (that is if, you&rsquo;re following this tutorial in a sandbox playground project):</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-cs" data-lang="cs"><span class="k">using</span> <span class="nn">UnityEngine</span><span class="p">;</span>

<span class="k">public</span> <span class="k">class</span> <span class="nc">MyScript</span> <span class="p">:</span> <span class="n">MonoBehaviour</span>
<span class="p">{</span>
<span class="na">    [SerializeField]</span> <span class="k">private</span> <span class="n">GameObject</span> <span class="n">myCube</span><span class="p">;</span>
    
    <span class="k">void</span> <span class="n">Start</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="n">Debug</span><span class="p">.</span><span class="n">Log</span><span class="p">(</span><span class="n">myCube</span> <span class="p">==</span> <span class="k">null</span> <span class="p">?</span> <span class="s">&#34;Game object myCube is null&#34;</span> <span class="p">:</span> <span class="s">&#34;Game object myCube is not null&#34;</span><span class="p">);</span>
        <span class="n">myCube</span><span class="p">.</span><span class="n">SetActive</span><span class="p">(</span><span class="k">false</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></td></tr></table>
</div>
</div><p>We have successfully set our object to inactive, cheers 🎉</p>
<h2 id="conclusion">Conclusion</h2>
<p>So now we can access all these components being assured that we have it working. There are other ways to access it, we&rsquo;re not going to get into those today, however, but that&rsquo;s pretty much it. I really hope I could clear everything out if you still have confusions or questions; I am often on discord (don&rsquo;t worry, if I&rsquo;m not available, others are really helpful) so you can hit me up at <a href="https://discord.gg/fKWpK7A" target="_blank" rel="noopener noreffer">discord/ANF-Studios</a> 😉</p>
<p>Other useful servers are <a href="https://discord.gg/Unity" target="_blank" rel="noopener noreffer">discord/Unity</a> and <a href="https://discord.gg/Brackeys" target="_blank" rel="noopener noreffer">discord/Brackeys</a>.</p></div><div class="post-footer" id="post-footer">
    <div class="post-info">
        <div class="post-info-line">
            <div class="post-info-mod">
                <span>Updated on 03.02.2021</span>
            </div>
            <div class="post-info-license"></div>
        </div>
        <div class="post-info-line">
            <div class="post-info-md"></div>
            <div class="post-info-share">
                <span><a href="javascript:void(0);" title="Share on Twitter" data-sharer="twitter" data-url="https://anf.myst.rs/blog/nullref/" data-title="How to deal with Null Reference Exception"><i class="fab fa-twitter fa-fw"></i></a><a href="javascript:void(0);" title="Share on Facebook" data-sharer="facebook" data-url="https://anf.myst.rs/blog/nullref/"><i class="fab fa-facebook-square fa-fw"></i></a><a href="javascript:void(0);" title="Share on WhatsApp" data-sharer="whatsapp" data-url="https://anf.myst.rs/blog/nullref/" data-title="How to deal with Null Reference Exception" data-web><i class="fab fa-whatsapp fa-fw"></i></a><a href="javascript:void(0);" title="Share on Tumblr" data-sharer="tumblr" data-url="https://anf.myst.rs/blog/nullref/" data-title="How to deal with Null Reference Exception" data-caption="Here&#39;s a small article on how to fix null reference exception in Unity."><i class="fab fa-tumblr fa-fw"></i></a><a href="javascript:void(0);" title="Share on Hacker News" data-sharer="hackernews" data-url="https://anf.myst.rs/blog/nullref/" data-title="How to deal with Null Reference Exception"><i class="fab fa-hacker-news fa-fw"></i></a><a href="javascript:void(0);" title="Share on Reddit" data-sharer="reddit" data-url="https://anf.myst.rs/blog/nullref/"><i class="fab fa-reddit fa-fw"></i></a><a href="javascript:void(0);" title="Share on Myspace" data-sharer="myspace" data-url="https://anf.myst.rs/blog/nullref/" data-title="How to deal with Null Reference Exception" data-description="Here&#39;s a small article on how to fix null reference exception in Unity."><i data-svg-src="/lib/simple-icons/icons/myspace.min.svg"></i></a></span>
            </div>
        </div>
    </div>

    <div class="post-info-more">
        <section class="post-tags"></section>
        <section>
            <span><a href="javascript:void(0);" onclick="window.history.back();">Back</a></span>&nbsp;|&nbsp;<span><a href="/">Home</a></span>
        </section>
    </div>

    <div class="post-nav">
            <a href="/blog/setup-codecov/" class="next" rel="next" title="How to setup Codecov, C#">How to setup Codecov, C#<i class="fas fa-angle-right fa-fw"></i></a></div>
</div>
</article></div>
            </main><footer class="footer">
        <div class="footer-container"><div class="footer-line"><i class="far fa-copyright fa-fw"></i><span itemprop="copyrightYear">2021</span><span class="author" itemprop="copyrightHolder">&nbsp;<a href="https://github.com/ANF">ANF</a></span></div>
        </div>
    </footer></div>

        <div id="fixed-buttons"><a href="#" id="back-to-top" class="fixed-button" title="Back to Top">
                <i class="fas fa-arrow-up fa-fw"></i>
            </a><a href="#" id="view-comments" class="fixed-button" title="View Comments">
                <i class="fas fa-comment fa-fw"></i>
            </a>
        </div><link rel="stylesheet" href="/lib/lightgallery/lightgallery.min.css"><script type="text/javascript" src="/lib/smooth-scroll/smooth-scroll.min.js"></script><script type="text/javascript" src="/lib/lazysizes/lazysizes.min.js"></script><script type="text/javascript" src="/lib/lightgallery/lightgallery.min.js"></script><script type="text/javascript" src="/lib/lightgallery/lg-thumbnail.min.js"></script><script type="text/javascript" src="/lib/lightgallery/lg-zoom.min.js"></script><script type="text/javascript" src="/lib/clipboard/clipboard.min.js"></script><script type="text/javascript" src="/lib/sharer/sharer.min.js"></script><script type="text/javascript" src="/lib/typeit/typeit.min.js"></script><script type="text/javascript" src="https://code.jquery.com/jquery-3.5.1.min.js"></script><script type="text/javascript" src="/js/spoiler.js"></script><script type="text/javascript">window.config={"code":{"copyTitle":"Copy to clipboard","maxShownLines":10},"comment":{},"data":{"id-1":"ANF Blogs","id-2":"ANF Blogs"},"lightGallery":{"actualSize":false,"exThumbImage":"data-thumbnail","hideBarsDelay":2000,"selector":".lightgallery","speed":400,"thumbContHeight":80,"thumbWidth":80,"thumbnail":true},"typeit":{"cursorChar":null,"cursorSpeed":null,"data":{"id-1":["id-1"],"id-2":["id-2"]},"duration":null,"speed":null}};</script><script type="text/javascript" src="/js/theme.min.js"></script></body>
</html>
